<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>wtfs open source video chat</title>
		<meta name="language" content="en" />
		<meta name="description" content="This chat is for co-working - we invite everyone who wants to be productive." />
 		<meta name="keywords" content="wtfs, wtfs chitchat, wtfs.de, co-working, video chat, video conference, screensharing, opensource, webrtc, erlang" />
		<meta name="title" content="wtfs - LW STUDY HALL" />
		<meta name="author" content="Mr. Pi <mrpi@mr-pi.de>" />
		<meta name="publisher" content="Mr. Pi" />
		<meta name="copyright" content="Mr. Pi, 2014" />
		<meta name="abstract" content="This chat is for co-working - we invite everyone who wants to be productive." />
		<meta name="page-topic" content="web service" />
		<meta name="page-type" content="web service" />
		<meta name="audience" content="students, managers, supervisors, developer" />
		<meta name="revisit" content="10 days" />
		<meta name="revisit-after" content="10 days" />
		<meta name="robots" content="index, follows" />
		<link rel="stylesheet" type="text/css" href="./css/button.css" />
		<link rel="stylesheet" type="text/css" href="./css/browser.css" />
		<link rel="stylesheet" type="text/css" href="./css/main.css" />
	</head>
	<body>
		<header>
			<h1><a href="http://lesswrong.com/" target="_new">LW</a> STUDY HALL</h1>
			<span><b>Welcome!</b> This chat is for co-working - we invite everyone who wants to be productive.<br />Introduction can be found <a href="https://docs.google.com/document/d/1rN_DJBwfnhSZ_r-9d0zBVrrrSw47ugbtCRaV6__TezA/edit?usp=sharing">here</a></span>
		</header>
		</section>
		<section>
			<article>
				<button class="small" onclick="start_streaming('video');">broadcast video</button>
				<button class="small" onclick="start_streaming('screen');">broadcast screen</button><br />
				<video id="selfvideo" muted controls autoplay height="240" poster="./img/nopic.png" style="display: none"></video>
			</article>
		</section>
		<script src="./js/media.js"></script>
		<script src="./js/browser.js"></script>
		<script>
			browser_type();
			streams={};
			var start_streaming = function(what) {
				document.getElementById("selfvideo").style.display = "initial";
				media.init({
					video: what=="video",
					audio: false,
					screen: what=="screen",
					handleStream: function(stream, src) {
						if(what=="video") {
							streams.video=what;
							streams.video_src=src;
						}
						else {
							streams.screen=what;
							streams.screen_src=src;
						}
						document.getElementById("selfvideo").src = src;
					},
					onError: function(error) {
						alert("ERROR: " + error);
					},
					onSupported: function() {
					},
					onNotSupported: function() {
					}
				});
			};
		</script>
	</body>
</html>
